# GoWebSocket IM å‰ç«¯ (Vue2é‡æ„ç‰ˆ)

è¿™æ˜¯GoWebSocket IMç³»ç»Ÿçš„Vue2å‰ç«¯é‡æ„ç‰ˆæœ¬ï¼Œæä¾›ç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢å’Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚

## é¡¹ç›®ç‰¹æ€§

- **ğŸ¨ ç°ä»£åŒ–UI**: åŸºäºElement UIçš„ç¾è§‚ç•Œé¢è®¾è®¡
- **ğŸ“± å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **âš¡ å®æ—¶é€šè®¯**: WebSocketé•¿è¿æ¥ï¼Œæ¶ˆæ¯å®æ—¶åŒæ­¥
- **ğŸ”’ ç”¨æˆ·è®¤è¯**: å®Œæ•´çš„ç™»å½•è®¤è¯å’Œæƒé™ç®¡ç†
- **ğŸ‘¥ å¥½å‹ç®¡ç†**: å¥½å‹æ·»åŠ ã€åˆ é™¤ã€åœ¨çº¿çŠ¶æ€æ˜¾ç¤º
- **ğŸ’¬ èŠå¤©åŠŸèƒ½**: ç§äººèŠå¤©ã€æ¶ˆæ¯å†å²ã€æœªè¯»è®¡æ•°
- **ğŸ”„ è‡ªåŠ¨é‡è¿**: ç½‘ç»œæ–­å¼€è‡ªåŠ¨é‡è¿æœºåˆ¶
- **ğŸ“¦ ç»„ä»¶åŒ–**: æ¨¡å—åŒ–ç»„ä»¶è®¾è®¡ï¼Œæ˜“äºç»´æŠ¤

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 2.6+
- **çŠ¶æ€ç®¡ç†**: Vuex 3.x
- **è·¯ç”±**: Vue Router 3.x
- **UIç»„ä»¶**: Element UI 2.x
- **HTTPå®¢æˆ·ç«¯**: Axios
- **æ„å»ºå·¥å…·**: Vue CLI / Webpack
- **æ ·å¼**: SCSS/SASS
- **WebSocket**: åŸç”ŸWebSocket API

## é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/        # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ chat/          # èŠå¤©ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ friend/        # å¥½å‹ç›¸å…³ç»„ä»¶
â”‚   â”‚   â””â”€â”€ user/          # ç”¨æˆ·ç›¸å…³ç»„ä»¶
â”‚   â”œâ”€â”€ views/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ store/             # VuexçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ modules/       # Storeæ¨¡å—
â”‚   â”œâ”€â”€ services/          # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ styles/            # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ router/            # è·¯ç”±é…ç½®
â”œâ”€â”€ package.json
â””â”€â”€ vue.config.js
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 14+
- npm 6+
- åç«¯æœåŠ¡å·²å¯åŠ¨ (Go WebSocketæœåŠ¡)

### å®‰è£…ä¾èµ–

```bash
cd frontend
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run serve
```

åº”ç”¨å°†åœ¨ http://localhost:3000 å¯åŠ¨

### ç”Ÿäº§æ„å»º

```bash
npm run build
```

æ„å»ºæ–‡ä»¶å°†è¾“å‡ºåˆ° `dist/` ç›®å½•

## åŠŸèƒ½è¯´æ˜

### 1. ç”¨æˆ·ç™»å½•
- è¾“å…¥ç”¨æˆ·IDå³å¯ç™»å½•
- é¦–æ¬¡ç™»å½•è‡ªåŠ¨æ³¨å†Œè´¦å·
- æ”¯æŒå¿«é€Ÿç™»å½•æŒ‰é’®

### 2. èŠå¤©åŠŸèƒ½
- å®æ—¶æ¶ˆæ¯æ”¶å‘
- æ¶ˆæ¯å†å²è®°å½•
- æœªè¯»æ¶ˆæ¯æé†’
- åœ¨çº¿çŠ¶æ€æ˜¾ç¤º

### 3. å¥½å‹ç®¡ç†
- æ·»åŠ /åˆ é™¤å¥½å‹
- å¥½å‹åˆ—è¡¨å±•ç¤º
- åœ¨çº¿/ç¦»çº¿çŠ¶æ€
- å¥½å‹æœç´¢åŠŸèƒ½

### 4. ç³»ç»Ÿç‰¹æ€§
- è‡ªåŠ¨æ–­çº¿é‡è¿
- æ¶ˆæ¯é˜Ÿåˆ—æœºåˆ¶
- å“åº”å¼å¸ƒå±€
- é”™è¯¯å¤„ç†

## APIæ¥å£

### è®¤è¯æ¥å£
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

### å¥½å‹æ¥å£
- `GET /api/friend/list` - è·å–å¥½å‹åˆ—è¡¨
- `POST /api/friend/add` - æ·»åŠ å¥½å‹
- `DELETE /api/friend/:friendID` - åˆ é™¤å¥½å‹

### æ¶ˆæ¯æ¥å£
- `GET /api/message/history` - è·å–èŠå¤©è®°å½•
- `POST /api/message/send` - å‘é€æ¶ˆæ¯
- `PUT /api/message/read` - æ ‡è®°å·²è¯»
- `GET /api/message/unread` - è·å–æœªè¯»ç»Ÿè®¡

## WebSocketæ¶ˆæ¯æ ¼å¼

### ç™»å½•
```json
{
  "seq": "unique_id",
  "cmd": "login",
  "data": {
    "userID": "10001",
    "appID": 101
  }
}
```

### å‘é€æ¶ˆæ¯
```json
{
  "seq": "unique_id", 
  "cmd": "msg",
  "data": {
    "from": "10001",
    "to": "10002", 
    "msg": "Hello"
  }
}
```

### å¿ƒè·³
```json
{
  "seq": "unique_id",
  "cmd": "heartbeat",
  "data": {}
}
```

## é…ç½®

### å¼€å‘ç¯å¢ƒé…ç½®
åœ¨ `vue.config.js` ä¸­é…ç½®ä»£ç†ï¼š

```javascript
module.exports = {
  devServer: {
    proxy: {
      '/api': {
        target: 'http://127.0.0.1:8080',
        changeOrigin: true
      }
    }
  }
}
```

### ç¯å¢ƒå˜é‡
- `NODE_ENV` - ç¯å¢ƒæ¨¡å¼ (development/production)
- `BASE_URL` - åŸºç¡€è·¯å¾„

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `src/components/` ä¸‹åˆ›å»ºç»„ä»¶
2. åœ¨ `src/store/modules/` ä¸‹æ·»åŠ çŠ¶æ€ç®¡ç†
3. åœ¨ `src/services/` ä¸‹æ·»åŠ APIè°ƒç”¨
4. æ›´æ–°è·¯ç”±é…ç½®

### æ ·å¼è§„èŒƒ
- ä½¿ç”¨SCSSç¼–å†™æ ·å¼
- éµå¾ªBEMå‘½åè§„èŒƒ
- ä½¿ç”¨CSSå˜é‡ç»Ÿä¸€ä¸»é¢˜

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ESLintè¿›è¡Œä»£ç æ£€æŸ¥
- éµå¾ªVueå®˜æ–¹ç¼–ç è§„èŒƒ
- ç»„ä»¶åä½¿ç”¨PascalCase

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **è¿æ¥å¤±è´¥**
   - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
   - ç¡®è®¤WebSocketåœ°å€é…ç½®æ­£ç¡®
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

2. **ç™»å½•å¤±è´¥**
   - ç¡®è®¤åç«¯APIæœåŠ¡æ­£å¸¸
   - æ£€æŸ¥Redisè¿æ¥çŠ¶æ€
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

3. **æ¶ˆæ¯æ”¶å‘å¼‚å¸¸**
   - æ£€æŸ¥WebSocketè¿æ¥çŠ¶æ€
   - ç¡®è®¤ç”¨æˆ·è®¤è¯ä¿¡æ¯
   - æŸ¥çœ‹ç½‘ç»œè¿æ¥

### è°ƒè¯•æŠ€å·§
- ä½¿ç”¨Vue DevToolsè°ƒè¯•ç»„ä»¶çŠ¶æ€
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°WebSocketè¿æ¥æ—¥å¿—
- ä½¿ç”¨Networké¢æ¿æ£€æŸ¥APIè¯·æ±‚

## éƒ¨ç½²

### Nginxé…ç½®ç¤ºä¾‹
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        root /path/to/dist;
        try_files $uri $uri/ /index.html;
    }
    
    location /api/ {
        proxy_pass http://127.0.0.1:8080/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    location /acc {
        proxy_pass http://127.0.0.1:8089;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
```

## è´¡çŒ®

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤å˜æ›´
4. å‘èµ·Pull Request

## è®¸å¯è¯

MIT License

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-01)
- âœ¨ å®ŒæˆVue2é‡æ„
- âœ¨ å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- âœ¨ æ·»åŠ å¥½å‹ç®¡ç†åŠŸèƒ½
- âœ¨ å®Œå–„èŠå¤©åŠŸèƒ½
- âœ¨ é›†æˆWebSocketè¿æ¥ç®¡ç†
- âœ¨ å“åº”å¼ç•Œé¢è®¾è®¡